#: import Window kivy.core.window.Window 
#:import hex kivy.utils.get_color_from_hex

<FlatButton@ButtonBehavior+Label>:
    text: 'default'
    



<AdminWindow>:
    id:main_win
    orientation: "vertical"
    
    canvas.before:
        Color:
            rgba: (1,1,1,1)
        Rectangle:
            size: self.size
            pos: self.pos

    BoxLayout:
        id: top_nav
        size_hint_y: None
        height: 30
        canvas.before:
            Color:
                rgba: hex('#1E90FF')
            Rectangle:
                size: self.size
                pos: self.pos

        FlatButton:
            id: file_trigger
            text: "File"
            font_name: '0WAG.TTF'
            on_release: file_dropdown.open(self)
            size_hint: (.1,None)
            height: 30

            Widget:
                on_parent: file_dropdown.dismiss()

                DropDown:
                    id: file_dropdown
                    Button:
                        id: logout
                        text: 'logout'
                        font_name: '0WAG.TTF'
                        size_hint_y: None
                        height: 30
                        background_normal: ''
                        background_color: C('#009ACD')
                        on_release: root.logout()

                    Button:
                        id: close
                        text: 'quit'
                        font_name: '0WAG.TTF'
                        size_hint_y: None
                        height: 30
                        background_normal: ''
                        background_color: C('#009ACD')
                        on_release: Window.close()
        
        Label:
            text: 'Admin Dashboard'
            font_name: '0WAG.TTF'
            bold: True
            size_hint: (.9,None)
            height: 30

    BoxLayout:
        id: content_nav

        BoxLayout:
            id: nav_tabs
            size_hint_x: .2
            orientation: 'vertical'
            font_name: '0WAG.TTF'
            spacing: 3
            canvas.before:
                Color:
                    rgba: hex('#1E90FF')
                Rectangle:
                    size: self.size
                    pos: self.pos

            ToggleButton:
                id: user_toggle
                canvas:
                    Rectangle:
                        pos: self.pos
                        size: 50,50
                        source: 'users.png'
                text: 'Manage Users'
                size_hint_y: .1
                state: 'down'
                background_color: C('#00B2EE')
                background_normal: ''
                group: 'admin_navs'
                on_state: root.change_screen(self)
            ToggleButton:
                id: products_toggle
                canvas:
                    Rectangle:
                        pos: self.pos
                        size: 50,50
                        source: 'products.png'
                text: 'Manage Products'
                size_hint_y: .1
                background_color: C('#00B2EE')
                background_normal: ''
                font_name: '0WAG.TTF'
                group: 'admin_navs'
                on_state: root.change_screen(self)
            ToggleButton:
                id: analysis_toggle
                canvas:
                    Rectangle:
                        pos: self.pos
                        size: 50,50
                        source: 'analysis.png'
                text: 'Product Analysis'
                size_hint_y: .1
                background_color: C('#00B2EE')
                background_normal: ''
                font_name: '0WAG.TTF'
                group: 'admin_navs'
                on_state: root.change_screen(self)
            ToggleButton:
                id: profit_toggle
                canvas:
                    Rectangle:
                        pos: self.pos
                        size: 50,50
                        source: 'transactions.png'
                text: 'Transactions'
                size_hint_y: .1
                background_color: C('#00B2EE')
                background_normal: ''
                group: 'admin_navs'
                font_name: '0WAG.TTF'
                on_state: root.change_screen(self)
            ToggleButton:
                id: profit_toggle
                canvas:
                    Rectangle:
                        pos: self.pos
                        size: 50,50
                        source: 'profits.png'
                text: 'Profit Statistics'
                size_hint_y: .1
                font_name: '0WAG.TTF'
                background_color: C('#00B2EE')
                background_normal: ''
                group: 'admin_navs'
                on_state: root.change_screen(self)
            Label:
                id: sp
                text: ''
                font_name: '0WAG.TTF'
                size_hint_y: .7

        BoxLayout:
            id: all_content
            size_hint_x: .8
            padding: (20,10)
            ScreenManager:
                id: scrn_mngr
                Screen:
                    id: scrn_content
                    name: 'scrn_content'
                    BoxLayout:
                        orientation: 'vertical'
                        spacing: 10
                        BoxLayout:
                            id: scrn_contents
                        BoxLayout:
                            id: ops_fields
                            spacing: 10
                            size_hint_y: None
                            height:35
                        BoxLayout:
                            id: ops_btns
                            spacing: 10
                            size_hint_y: None
                            height: 45
                            Button:
                                id: crud_add
                                text: 'Add User'
                                font_name: '0WAG.TTF'
                                background_normal: ''
                                background_color: C('#00B2EE')
                                on_release: root.add_user_fields()
                            Button:
                                id: crud_update
                                text: 'Update User'
                                font_name: '0WAG.TTF'
                                background_normal: ''
                                background_color: C('#00B2EE')
                                on_release: root.update_user_fields()
                            Button:
                                id: crud_remove
                                text: 'Remove User' 
                                font_name: '0WAG.TTF'
                                background_normal: ''
                                background_color: C('#00B2EE')
                                on_release: root.remove_user_fields()

                Screen:
                    id: scrn_product_content
                    name: 'scrn_product_content'
                    BoxLayout:
                        orientation: 'vertical'
                        spacing: 10
                        BoxLayout:
                            id: scrn_product_contents
                        BoxLayout:
                            id: ops_fields_p
                            spacing: 10
                            size_hint_y: None
                            height:35
                        BoxLayout:
                            id: ops_btns_p
                            spacing: 10
                            size_hint_y: None
                            height: 45
                            Button:
                                id: crud_add_p
                                text: 'Add Product'
                                background_normal: ''
                                font_name: '0WAG.TTF'
                                background_color: C('#00B2EE')
                                on_release: root.add_product_fields()
                            Button:
                                id: crud_update_p
                                text: 'Update Product'
                                background_normal: ''
                                font_name: '0WAG.TTF'
                                background_color: C('#00B2EE')
                                on_release: root.update_product_fields()
                            Button:
                                id: crud_remove_p
                                text: 'Remove Product' 
                                background_normal: ''
                                font_name: '0WAG.TTF'
                                background_color: C('#00B2EE')
                                on_release: root.remove_product_fields()
                    
                    

                Screen:
                    id: scrn_analysis
                    name: 'scrn_analysis'
                    BoxLayout:
                        orientation: 'vertical'
                        spacing: 10
                        BoxLayout:
                            #orientation:'vertical'
                            size_hint_y: None
                            height: 45
                            spacing: 5
                            Spinner:
                                id: target_product
                                background_normal: ''
                                background_color: C('#009ACD')
                                text: 'Choose Product'
                            Button:
                                id: submit_analysis 
                                text: 'View Stats'
                                background_normal: ''
                                font_name: '0WAG.TTF'
                                background_color: C('#009ACD')
                                size_hint_x: .3
                                on_release: root.view_stats()
                                
                        BoxLayout:
                            id: analysis_res
                Screen:
                    id: scrn_trans_content
                    name: 'scrn_trans_content'
                    BoxLayout:
                        orientation: 'vertical'
                        spacing: 10
                        BoxLayout:
                            id: scrn_trans_contents
                        BoxLayout:
                            id: ops_fields_t
                            spacing: 10
                            size_hint_y: None
                            height:35
                        BoxLayout:
                            id: ops_btns_p
                            spacing: 10
                            size_hint_y: None
                            height: 45
                            Button:
                                id: stock_p
                                text: 'Total Stock Profit'
                                font_name: '0WAG.TTF'
                                background_normal: ''
                                background_color: C('#00B2EE')
                
                Screen:
                    id: scrn_total_content
                    name: 'scrn_totals_content'
                    BoxLayout:
                        orientation: 'vertical'
                        spacing: 10
                        BoxLayout:
                            id: scrn_totals_contents
                        BoxLayout:
                            id: profs_fields_t
                            font_name: '0WAG.TTF'
                            spacing: 10
                            size_hint_y: None
                            height: 30
                            
                        BoxLayout:
                            id: profs_btns_p
                            spacing: 10
                            size_hint_y: None
                            height: 45
                            Label:
                                text: "Profit Statistics"
                                font_size: 32
                                font_name: '0WAG.TTF'
                                bold: True
                                size_hint_x: .2
                                color: C('#00B2EE')
                        

                            




